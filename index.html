<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="–ü–∏–∫—Å–µ–ª—å–Ω–∞—è –∏–≥—Ä–∞-—Ç—Ä–µ–∫–µ—Ä –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Å —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏ –±–æ—Å—Å–æ–≤">
    <meta name="theme-color" content="#667eea">
    <title>–û—á–∏–≤–∫–∏ - –¢—Ä–µ–∫–µ—Ä –î–æ—Å—Ç–∏–∂–µ–Ω–∏–π</title>
    
    <!-- Telegram Web App -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <header class="game-header">
            <h1>üéÆ –û–ß–ò–í–ö–ò</h1>
            <div class="player-info">
                <div class="player-name-section">
                    <div id="playerSelector" class="player-selector" style="display: none;">
                        <button id="selectPlayer1" class="player-btn active">–ò–≥—Ä–æ–∫ 1</button>
                        <button id="selectPlayer2" class="player-btn">–ò–≥—Ä–æ–∫ 2</button>
                    </div>
                    <div id="singlePlayerNameSection" class="single-player-name">
                        <input type="text" id="playerNameInput" class="player-name-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" maxlength="20">
                        <button id="saveNameBtn" class="btn-save-name">üíæ</button>
                    </div>
                </div>
                <div class="stats">
                    <div class="stat">
                        <span class="stat-label">–£—Ä–æ–≤–µ–Ω—å:</span>
                        <span id="playerLevel">1</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">–û–ø—ã—Ç:</span>
                        <span id="playerXP">0</span>/<span id="playerXPNeeded">100</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">üí∞ –ú–æ–Ω–µ—Ç—ã:</span>
                        <span id="playerCoins">0</span>
                    </div>
                </div>
            </div>
        </header>

        <nav class="game-nav">
            <button class="nav-btn active" data-tab="combat">‚öîÔ∏è –ë–æ–π</button>
            <button class="nav-btn" data-tab="achievements">üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</button>
            <button class="nav-btn" data-tab="reports">üí¨ –û—Ç—á–µ—Ç—ã</button>
            <button class="nav-btn" data-tab="character">üë§ –ü–µ—Ä—Å–æ–Ω–∞–∂</button>
            <button class="nav-btn" data-tab="equipment">üéí –≠–∫–∏–ø–∏—Ä–æ–≤–∫–∞</button>
            <button class="nav-btn" data-tab="shop">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
            <button class="nav-btn" data-tab="bosses">üëπ –ë–æ—Å—Å—ã</button>
        </nav>

        <main class="game-content">
            <!-- –í–∫–ª–∞–¥–∫–∞ –ë–æ–π -->
            <div id="tab-combat" class="tab-content active">
                <div id="combatArea" class="combat-area">
                    <div class="player-side">
                        <div class="character-combat">
                            <div id="playerSprite" class="combat-sprite">üë§</div>
                            <div class="player-stats">
                                <div class="stat-row">
                                    <span>‚öîÔ∏è –ê—Ç–∞–∫–∞: <strong id="playerAttack">25</strong></span>
                                    <span>üõ°Ô∏è –ó–∞—â–∏—Ç–∞: <strong id="playerDefense">10</strong></span>
                                </div>
                                <div class="stat-row">
                                    <span>‚ù§Ô∏è –ó–¥–æ—Ä–æ–≤—å–µ: <strong id="playerHealth">100</strong>/<strong id="playerMaxHealth">100</strong></span>
                                    <span>üí• –ö—Ä–∏—Ç: <strong id="playerCrit">5</strong>%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="vs-divider">VS</div>
                    <div class="enemy-side">
                        <div class="enemy-combat">
                            <div id="enemySprite" class="combat-sprite">üò¥</div>
                            <div class="enemy-info">
                                <div id="enemyName" class="enemy-name">–õ–µ–Ω—å</div>
                                <div class="enemy-hp-bar-container">
                                    <div id="enemyHpBar" class="enemy-hp-bar"></div>
                                </div>
                                <div id="enemyHpText" class="enemy-hp-text">100/100 HP</div>
                                <div id="enemyLevel" class="enemy-level">–£—Ä–æ–≤–µ–Ω—å: 1</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="accumulated-damage">
                    <div class="damage-counter">
                        <span class="damage-label">‚öîÔ∏è –ù–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–π —É—Ä–æ–Ω:</span>
                        <span id="accumulatedDamage" class="damage-value">0</span>
                    </div>
                </div>
                <div class="combat-actions">
                    <button class="btn-primary btn-attack" id="attackButton" onclick="attackEnemy()">‚öîÔ∏è –ê—Ç–∞–∫–æ–≤–∞—Ç—å</button>
                    <button class="btn-secondary" onclick="startCombat()">üîÑ –ù–æ–≤—ã–π –≤—Ä–∞–≥</button>
                </div>
                <div class="combat-tip">
                    üí° –í—ã–ø–æ–ª–Ω—è–π—Ç–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å —É—Ä–æ–Ω! –ó–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ "–ê—Ç–∞–∫–æ–≤–∞—Ç—å" –¥–ª—è –Ω–∞–Ω–µ—Å–µ–Ω–∏—è —É—Ä–æ–Ω–∞ –≤—Ä–∞–≥—É.
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
            <div id="tab-achievements" class="tab-content">
                <div class="achievements-header">
                    <div class="achievements-filter">
                        <button class="filter-btn active" data-filter="all">–í—Å–µ</button>
                        <button class="filter-btn" data-filter="easy">–õ–µ–≥–∫–∏–µ</button>
                        <button class="filter-btn" data-filter="medium">–°—Ä–µ–¥–Ω–∏–µ</button>
                        <button class="filter-btn" data-filter="hard">–°–ª–æ–∂–Ω—ã–µ</button>
                    </div>
                    <button id="addAchievementBtn" class="btn-primary btn-add-achievement">‚ûï –î–æ–±–∞–≤–∏—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ</button>
                </div>
                <div id="achievementsList" class="achievements-list"></div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –ü–µ—Ä—Å–æ–Ω–∞–∂ -->
            <div id="tab-character" class="tab-content">
                <div class="character-customization">
                    <div class="character-preview">
                        <div id="characterSprite" class="character-sprite"></div>
                        <div class="character-name" id="characterName">–ò–≥—Ä–æ–∫</div>
                    </div>
                    <div class="customization-options">
                        <div class="custom-section">
                            <h3>–¶–≤–µ—Ç –≤–æ–ª–æ—Å</h3>
                            <div class="color-picker" id="hairColorPicker"></div>
                        </div>
                        <div class="custom-section">
                            <h3>–¶–≤–µ—Ç –æ–¥–µ–∂–¥—ã</h3>
                            <div class="color-picker" id="clothesColorPicker"></div>
                        </div>
                        <div class="custom-section">
                            <h3>–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</h3>
                            <div class="accessories-list" id="accessoriesList"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –≠–∫–∏–ø–∏—Ä–æ–≤–∫–∞ -->
            <div id="tab-equipment" class="tab-content">
                <div class="equipment-section">
                    <h3>–ù–∞–¥–µ—Ç–æ–µ</h3>
                    <div id="equippedItems" class="equipped-items"></div>
                </div>
                <div class="equipment-section">
                    <h3>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
                    <div id="inventoryItems" class="inventory-items"></div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –ú–∞–≥–∞–∑–∏–Ω -->
            <div id="tab-shop" class="tab-content">
                <div class="shop-categories">
                    <button class="category-btn active" data-category="chests">üì¶ –°—É–Ω–¥—É–∫–∏</button>
                    <button class="category-btn" data-category="upgrades">–£–ª—É—á—à–µ–Ω–∏—è</button>
                    <button class="category-btn" data-category="items">–ü—Ä–µ–¥–º–µ—Ç—ã</button>
                </div>
                <div id="shopItems" class="shop-items"></div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –ë–æ—Å—Å—ã -->
            <div id="tab-bosses" class="tab-content">
                <div id="bossesList" class="bosses-list"></div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –û—Ç—á–µ—Ç—ã/–ß–∞—Ç -->
            <div id="tab-reports" class="tab-content">
                <div class="reports-container">
                    <div id="reportsList" class="reports-list"></div>
                    <div class="report-form">
                        <div class="report-form-header">
                            <h3 id="reportFormTitle">üì∏ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏</h3>
                        </div>
                        <div class="form-group">
                            <label>–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ:</label>
                            <select id="reportAchievementSelect" class="form-input">
                                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ --</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>–§–æ—Ç–æ –æ—Ç—á–µ—Ç–∞:</label>
                            <input type="file" id="reportPhotoInput" accept="image/*" class="form-input" />
                            <div id="reportPhotoPreview" class="photo-preview"></div>
                        </div>
                        <button id="sendReportBtn" class="btn-primary">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç</button>
                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –õ–æ–∫–∞—Ü–∏–∏ -->
            <div id="tab-locations" class="tab-content">
                <div id="locationsList" class="locations-list"></div>
            </div>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ –∏–≥—Ä—ã -->
    <div id="gameModeModal" class="modal active">
        <div class="modal-content mode-selection-modal">
            <h2>üéÆ –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –∏–≥—Ä—ã</h2>
            <p class="mode-description">–ö–∞–∫ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–≥—Ä–∞—Ç—å?</p>
            <div class="mode-options">
                <button id="singlePlayerMode" class="mode-btn">
                    <div class="mode-icon">üë§</div>
                    <div class="mode-title">–û–¥–∏–Ω–æ—á–Ω–∞—è –∏–≥—Ä–∞</div>
                    <div class="mode-desc">–ò–≥—Ä–∞–π—Ç–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ</div>
                </button>
                <button id="competitionMode" class="mode-btn">
                    <div class="mode-icon">üë•</div>
                    <div class="mode-title">–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ</div>
                    <div class="mode-desc">–°–æ—Ä–µ–≤–Ω—É–π—Ç–µ—Å—å —Å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º</div>
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
    <div id="achievementModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modalAchievementName"></h2>
            <p id="modalAchievementDesc"></p>
            <div class="date-picker">
                <label>–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</label>
                <input type="date" id="achievementDate" />
            </div>
            <button id="confirmAchievement" class="btn-primary">–û—Ç–º–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
    <div id="createAchievementModal" class="modal">
        <div class="modal-content">
            <span class="close-create">&times;</span>
            <h2>‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ</h2>
            <div class="form-group">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
                <input type="text" id="newAchievementName" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü—Ä–æ–±–µ–∂–∫–∞ 5 –∫–º" maxlength="50" />
            </div>
            <div class="form-group">
                <label>–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                <textarea id="newAchievementDesc" class="form-textarea" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è" maxlength="200"></textarea>
            </div>
            <div class="form-group">
                <label>–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:</label>
                <div class="difficulty-selector">
                    <button class="difficulty-option" data-difficulty="easy">
                        <div class="difficulty-title">–ü—Ä–æ—Å—Ç–æ–µ</div>
                        <div class="difficulty-reward">5 –æ–ø—ã—Ç–∞, 3 –º–æ–Ω–µ—Ç—ã</div>
                    </button>
                    <button class="difficulty-option" data-difficulty="medium">
                        <div class="difficulty-title">–°—Ä–µ–¥–Ω–µ–µ</div>
                        <div class="difficulty-reward">15 –æ–ø—ã—Ç–∞, 6 –º–æ–Ω–µ—Ç</div>
                    </button>
                    <button class="difficulty-option" data-difficulty="hard">
                        <div class="difficulty-title">–°–ª–æ–∂–Ω–æ–µ</div>
                        <div class="difficulty-reward">30 –æ–ø—ã—Ç–∞, 10 –º–æ–Ω–µ—Ç</div>
                    </button>
                </div>
            </div>
            <button id="createAchievementBtn" class="btn-primary">–°–æ–∑–¥–∞—Ç—å</button>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>